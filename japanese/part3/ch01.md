\setcounter{part}{2}
\setcounter{chapter}{16}
\part{}

# 射こそすべて

まだ圏論の勘所は射だと確信してもらえていないなら、私が務めをきちんと果たせなかったということになる。次章の話題である随伴 (adjunction) は、hom集合間の同型によって定義されるため、hom集合の構成要素についての直観を見直すのが理にかなっている。また、随伴はこれまで見てきた多くの構成を記述するさらに汎用的な語彙を提供するため、それらの構成を復習しておくのも有意義だろう。

## 関手

まず始めに、関手を射の写像だと真剣に考えるべきだ。これはHaskellの`Functor`型クラスの定義において強調される考え方だ。そこでは`fmap`が中心だった。もちろん、関手は対象――射の両端――も写す。そうでなければ、合成の保存について語れない。対象は射のどのペアが合成可能か教えてくれる。一方の射の終点がもう一方の始点と等しくなければ合成できない。したがって、射の合成を[*リフトされた*]{.keyword #lifted}\index{リフトされた}射の合成に写すなら、それらの両端の写像もほぼ決まる。

## 可換図式

射についての性質の多くは可換図式によって表される。ある特定の射が他の射の合成として複数の方法で記述できるなら、可換図式があることになる。

特に、可換図式はほぼすべての普遍的構成の基礎となっている（始対象と終対象という重要な例外はある）。このことはすでに、積、余積、その他さまざまな（余）極限、冪対象、自由モノイドなどの定義で見てきた。

積は普遍的構成の簡単な例だ。2つの対象$a$と$b$を選び、それらの積となる普遍性を持つような、射$p$と$q$のペアを伴う対象$c$が存在するかを見る。

`\begin{figure}[H] \centering`{=latex}
![](images/productranking.jpg){width=30%}
`\end{figure}`{=latex}

\noindent
積は極限の特別な場合でもある。極限は錐によって定義される。一般的な錐は可換図式から作成される。それらの図式の可換性は、関手間の写像についての適切な自然性条件で置き換えられる^[訳注：錐とは$\Nat(\Delta_c, F)$ のことだったのを思い出してほしい。]。このようにして、可換性は自然変換という高水準言語に対するアセンブリー言語の役割に降格される。

## 自然変換

一般に、自然変換は射から四角い可換図式への写像が必要なときに非常に便利だ。自然性の四角い図式で向かい合う辺のうち2つは、ある射$f$を2つの関手$F$と$G$でそれぞれ写したものだ。残りの2辺は自然変換の成分（これらも射）だ。

`\begin{figure}[H] \centering`{=latex}
![](images/3_naturality.jpg){width=35%}
`\end{figure}`{=latex}

\noindent
自然性は「隣接する」（つまり射でつながった）成分に移っても圏や関手の構造に反しないことを意味している。自然変換の成分を使って対象間のギャップをまず埋めてから関手を使って隣の対象にジャンプするのでも、その逆でも関係ない。すなわち、2つの方向は直交している。いうなれば、自然変換は左右に移動させ、関手は上下や前後に移動させる。関手の*像*は、その行き先となる圏でのシートとして視覚化できる。この見方では、自然変換は$F$に対応するシートを$G$に対応する別のシートに写す。

`\begin{figure}[H] \centering`{=latex}
![](images/sheets.png){width=35%}
`\end{figure}`{=latex}

\noindent
この直交性のHaskellにおける例はすでに見ている。そこでは、関手の作用はコンテナーの形状を変更せずに内容を変更し、一方で自然変換は内容を変更せずに別のコンテナーに詰め直すものだった^[訳注：詰め直す際に各要素の位置が変わりうることを考えると、位置に依存しないような変更である必要がある。]。これらの操作の順序は関係なかった。

極限の定義の中で錐が自然変換に置き換えられるのを見た。自然性はすべての錐の側面が可換だと保証する。しかし、極限は錐の*間の*写像によって定義されていた。これらの写像は可換性条件も満たす必要があった。（たとえば、積の定義における三角形は可換である必要がある。）

これらの条件も自然性によって置き換えられる。*普遍な*錐、すなわち極限が、（反変）hom関手：
$$F \Colon c \to \cat{C}(c, \Lim{D})$$
と、$\cat{C}$内の対象を、それ自体が自然変換である錐に写すような（反変）関手：
$$G \Colon c \to \Nat(\Delta_c, D)$$
の自然変換として定義されていたのを思い出してほしい。ここで、$\Delta_c$は定関手、$D$は$\cat{C}$での図式を定義する関手だ。関手$F$と$G$は両方とも、$\cat{C}$の射に対する作用が明確に定義されている。奇遇にも$F$と$G$の間の特定の自然変換は*同型*だ。

## 自然同型

自然同型――すべての成分が可逆な自然変換――は、圏論で「2つのものは同じである」と言うときの言い方だ。そのような変換の成分は対象間の同型射――逆が存在する射――でなければならない。関手の像をシートとして表すなら、自然同型はシート間の1対1の可逆な写像だと言える。

## Hom集合

それにしても、射とは何だろう？　射は対象よりも構造が豊かだ。対象とは違って、射には2つの端がある。しかし、始点となる対象と終点となる対象を固定すると、それら2つの間の射たちは（少なくとも局所的に小さい圏では）単に集合をなしてしまう。この集合の要素を区別するために$f$や$g$のような名前を付けることはできるが、一体何がこれらの射を区別しているのだろう？

与えられたhom集合内の射同士の本質的な差異は、（隣接するhom集合からの）他の射とどのように合成されるかにある。$f$との合成（前合成でも後合成でもよい）が$g$との合成と異なるような射$h$が存在する場合、つまり、たとえば：
$$h \circ f \neq h \circ g$$
なら$f$と$g$の違いを直接「観察」できる。しかし、違いが直接観察できない場合でも、関手を使えばそのhom集合にズームインできる。関手$F$は2つの射を、より豊かな圏における別々の射：
$$F f \neq F g$$
に写せる。そこでは、隣接するhom集合による分解能がより高い場合がある。たとえば、$F$の像に含まれない$h'$によって：
$$h' \circ F f \neq h' \circ F g$$
のように区別できる場合がある。

## Hom集合同型

圏論では多くの構成がhom集合間の同型に依存している。もっとも、hom集合はただの集合なので、それらの間の同型から分かることはあまりない。有限集合の場合は、同型は要素数が同じだと示すだけだ。無限集合の場合は、同型が存在するならばそれらの濃度が同じでなければならない。しかし、hom集合の意味のある同型はすべて、合成も考慮しなければならない。合成に関わるhom集合はひとつだけではない。あらゆるhom集合にまたがる同型を定義する必要があり、合成と相互運用できるような何らかの互換性の条件を課す必要がある。そして、[*自然*]{.keyword #natural}\index{自然}同型はその条件にぴったり合う。

だが、hom集合同士の自然同型とは何だろう？　自然性は、関手間の写像の性質であり、集合間の写像についてのものではない。つまり、いま話しているのは実際にはhom集合値関手の間の自然同型についてだ。それらの関手は単なる集合値関手ではない。射に対するその作用は、適切なhom関手によって導かれる。射はhom関手によって、（合成の変性に依存して）前合成か後合成のどちらかで正準的に写される。

米田埋め込みはそのような同型の一例だ。それは$\cat{C}$内のhom集合を関手圏内のhom集合に写す。そしてそれは自然だ。米田埋め込みにおける関手のひとつは$\cat{C}$のhom関手で、もうひとつは対象をhom集合間の自然変換の集合に写すような関手だ。

極限の定義もhom集合間の自然同型だ（ここでも2番目は関手圏内のhom集合だ）：
$$\cat{C}(c, \Lim{D}) \simeq \Nat(\Delta_c, D)$$
実は、冪対象や自由モノイドの構成もhom集合間の自然同型として書き直せる。

これは偶然の一致ではない――次章で見るように、これらはhom集合の自然同型として定義される随伴の様々な例にすぎない。

## Hom集合の非対称性

随伴を理解するのに役立つ観察結果はもう1つある。Hom集合は一般に対称ではない。Hom集合$\cat{C}(a, b)$ は、hom集合$\cat{C}(b, a)$ と大きく異なることがよくある。この非対称性の究極の例は、半順序を圏と見なすことだ。半順序では、$a$が$b$以下の場合、かつその場合に限って$a$から$b$への射が存在する。さらに$a$と$b$が異なる場合は、$b$から$a$へと逆方向に進む射は存在しない。Hom集合$\cat{C}(a, b)$ が空集合でない（ここでは単元集合であることを意味する）なら、$a = b$でない限り、$\cat{C}(b, a)$ は空でなければならない。この圏の射には明確な一方向の流れが存在する。

関係が反対称でなくてもよい前順序も、たまにある循環を除けば「ほとんど」方向付けられている。任意の圏を前順序の一般化と見なすと便利だ。

前順序は細い圏だ――すべてのhom集合が単元集合か空集合のどちらかだ。一般の圏は「太い」(thick) 前順序として描写できる。

## 課題

#. 退化 (degenerate) した自然性条件の例を考え、適切な図を描け。たとえば、関手$F$または$G$のどちらかが対象$a$と$b$（$f \Colon a \to b$の両端）の両方を同じ対象に、$F a = F b$または$G a = G b$のように写したらどうなるか？  （この方法で錐や余錐が得られることに注目してほしい。）次に、$F a = G a$または$F b = G b$のどちらかの場合について考えよ。最後に、自分自身へループする射$f \Colon a \to a$から始めた場合はどうか？
